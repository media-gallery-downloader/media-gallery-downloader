[supervisord]
nodaemon=true
logfile=/app/storage/logs/supervisord.log
pidfile=/app/storage/logs/supervisord.pid

[program:horizon]
command=php /app/artisan horizon
directory=/app
autostart=true
autorestart=true
user=app
stdout_logfile=/app/storage/logs/horizon.log
stderr_logfile=/app/storage/logs/horizon.log
stdout_logfile_maxbytes=10MB
stderr_logfile_maxbytes=10MB
startretries=3
startsecs=10
stopwaitsecs=3600

[program:scheduler]
command=php /app/artisan schedule:work
directory=/app
autostart=true
autorestart=true
user=app
stdout_logfile=/app/storage/logs/scheduler.log
stderr_logfile=/app/storage/logs/scheduler.log
stdout_logfile_maxbytes=10MB
stderr_logfile_maxbytes=10MB
startretries=3
startsecs=10